package com.foxconn;

// 導入的 Android 相關庫
import android.content.Context;
import android.content.ComponentName;
import android.content.Intent;
import android.util.Log;
import android.app.Service;
import android.os.IBinder;


public class QtAndroidService extends Service{
    private static final String TAG = "QtAndroidService";

    // Native methods for sending different types of messages to Qt
    private static native void sendToQt(String message);

    @Override
    public void onCreate() {
        super.onCreate();
        Log.i(TAG, "onCreate");
        startSendingSignalsToQt(); // Initiate an operation that sends a signal onCreate()
    }

    @Override
    public void onDestroy() {
        super.onDestroy();
        Log.i(TAG, "Destroying Service");
    }

    @Override
    public IBinder onBind(Intent intent) {
        return null;
    }

    private void startSendingSignalsToQt() {
        Log.d(TAG, "startSendingSignalsToQt");
        String AAA = "ZGW_RHighBeamPower_St";
        new Thread(() -> {
            for(int i=0; i<=10; i++){
                if (AAA!=null && !AAA.isEmpty()) {
                    Log.d(TAG, "dawi_java_count: " + i);
                    Log.d(TAG, "dawi_java_signals: " + AAA);
                    sendToQt(AAA);
                }
            }
        }).start();
    }

}

